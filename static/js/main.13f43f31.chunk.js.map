{"version":3,"sources":["Movie.js","App.js","index.js","Key.js"],"names":["Movie","poster","year","title","subtitle","director","actor","rate","className","src","alt","App","state","isLoading","isSearchMovie","searchMovie","movieList","getMovies","a","axios","get","params","query","display","headers","ID_KEY","SECRET_KEY","items","data","console","log","Object","keys","length","setState","handleSubmitEvent","e","preventDefault","handleKeyEvent","keyCode","target","value","componentDidMount","span","letter","byline","document","getElementById","bylineArr","innerHTML","split","i","createElement","createTextNode","appendChild","render","filteredMovieList","filter","item","image","includes","map","re","RegExp","filteredTitle","replace","filteredSubTitle","filteredDirector","replaceAll","filteredActor","id","onSubmit","type","onKeyUp","placeholder","movie","index","pubDate","userRating","React","Component","ReactDOM","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.13f43f31.chunk.js","sourcesContent":["// axios를 통해 가져온 movie list를 렌더링하는 js\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Movie.css\";\r\n\r\n// map에 있는 각각의 item은 key값이 필요하다\r\nfunction Movie({ poster, year, title, subtitle, director, actor, rate }) {\r\n    return (\r\n        <div className=\"movies\">\r\n            <img src={poster} alt={title} title={title} />\r\n            <div className=\"movies__data\">\r\n                <h3 className=\"movie__title\">{title}</h3>\r\n                <h4 className=\"movie__subtitle\">{subtitle}</h4>\r\n                <h5 className=\"movie__year\">{year}</h5>\r\n                <h5 className=\"movie__director\">{director}</h5>\r\n                <h5 className=\"movie__actor\">{actor}</h5>\r\n                <p className=\"movie__rate\">{rate} / 10.00</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// YTS API로 가져온 데이터의 item\r\n// Movie.propTypes = {\r\n//     id: PropTypes.number.isRequired,\r\n//     year: PropTypes.number.isRequired,\r\n//     title: PropTypes.string.isRequired,\r\n//     summary: PropTypes.string.isRequired,\r\n//     poster: PropTypes.string.isRequired,\r\n//     genres: PropTypes.arrayOf(PropTypes.string).isRequired\r\n// }\r\n\r\n// 네이버 영화 검색 API로 가져온 데이터의 item\r\nMovie.propTypes = {\r\n    poster: PropTypes.string.isRequired,\r\n    year: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    subtitle: PropTypes.string.isRequired,\r\n    director: PropTypes.string.isRequired,\r\n    actor: PropTypes.string.isRequired,\r\n    rate: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Movie;","import React from \"react\";\n// import PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport Movie from \"./Movie\";\nimport \"./App.css\";\nimport { ID_KEY, SECRET_KEY } from \"./Key\";\n\n/*\n// 동적으로 데이터를 보내주기\nconst foodILike = [\n  {\n    id: 1,\n    name: \"Kimchi\",\n    image:\n      \"http://aeriskitchen.com/wp-content/uploads/2008/09/kimchi_bokkeumbap_02-.jpg\",\n    rating: 5.0\n  },\n  {\n    id: 2,\n    name: \"Samgyeopsal\",\n    image:\n      \"https://3.bp.blogspot.com/-hKwIBxIVcQw/WfsewX3fhJI/AAAAAAAAALk/yHxnxFXcfx4ZKSfHS_RQNKjw3bAC03AnACLcBGAs/s400/DSC07624.jpg\",\n    rating: 4.9\n  },\n  {\n    id: 3,\n    name: \"Bibimbap\",\n    image:\n      \"http://cdn-image.myrecipes.com/sites/default/files/styles/4_3_horizontal_-_1200x900/public/image/recipes/ck/12/03/bibimbop-ck-x.jpg?itok=RoXlp6Xb\",\n    rating: 4.8\n },\n  {\n    id: 4,\n    name: \"Doncasu\",\n    image:\n      \"https://s3-media3.fl.yelpcdn.com/bphoto/7F9eTTQ_yxaWIRytAu5feA/ls.jpg\",\n    rating: 5.5\n  },\n  {\n    id: 5,\n    name: \"Kimbap\",\n    image:\n      \"http://cdn2.koreanbapsang.com/wp-content/uploads/2012/05/DSC_1238r-e1454170512295.jpg\",\n    rating: 4.7\n  }\n];\n\nfunction Food({name, picture, rating}) { // props를 인자로 받으면, Object 안에 favorite이라는 변수가 있음. 왼쪽 같이 표현하는 것은 ES6 문법임.\n  return (\n    <div>\n      <h1>I love {name}</h1>\n      <h4>{rating}/5.0</h4>\n      <img src={picture} alt={name}/>\n    </div>\n  )\n}\n\n// type checker\nFood.propTypes = {\n  name: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired\n}\n\nfunction renderFood(food) {\n  return (\n    <Food\n      key={food.id}\n      name={food.name}\n      picture={food.image}\n      rating={food.rating}\n    />\n  )\n}\n\n// component -> component로 정보를 보내는 방법\n// Food component에 favorite이라는 이름의 property를 potato라는 value로 전달\n// 누군가가 Food component에 정보를 보내려고 하면, react는 밑에 보이는 속성들을 가져올 것임\n// 그 속성들은 Food function component의 argument로 들어가짐\n// jsx + props를 사용하여 재사용성을 높인다\nfunction App() {\n  return (\n    <div>\n      {foodILike.map(renderFood)}\n    </div>\n  );\n}\n*/\n\n// class component\n// 상속해서 function 사용\n// React는 자동으로 class component의 render method를 실행함\n// class component를 사용하면 로컬 state와 life cycle method와 같은 부가적인 기능을 사용할 수 있다\n// state는 object이며 동적으로 변한다\n\n// 기본적으로 React에서 render function은 state의 상태가 변경된다고 다시 호출되지 않는다\n// state의 변경을 원한다면 setState를 사용해야 한다\n// setState를 사용하면 원하는 부분만 변경 가능하다 => 이게 바로 React의 SPA!!\n\n// setState를 사용할 때, React에서 외부의 상태에 의존하지 않는 좋은 방법은 current를 사용하는 것이다\n// current === this.state\n\n// 위에서 언급한 React Component는 Life Cycle이 존재하는데, 앱을 개발하면서 렌더링 직전에 특정한 작업을 해야 하거나, 컴포넌트 업데이트 전후에 처리해야 할 작업이 있을 수 있다.\n// 이때 Life Cycle 관련 함수들을 이용하면 이를 처리할 수 있다.\n// 종류: Mount, Update, UnMount\n/*\n  [Mount] ==> DOM 객체가 생성되고 브라우저에 나타나는 것\n  - constructor: 컴포넌트 클래스 생성자 함수, state의 초기값을 지정할 때 사용\n  - getDerivedStateFromProps: props와 state 값을 동기화할 때 사용하는 함수\n  - render: 컴포넌트의 기능을 정의하는 함수\n  - componentDidMount: 컴포넌트를 생성하고 첫 렌더링이 끝났을 때 호출하는 함수\n\n  [Update] ==> props값 변경, state값 변경, 부모 컴포넌트가 리렌더링, this.forceUpdate로 강제로 리렌더링\n  - getDerivedStateFromProps\n  - shouldComponentUpdate: 컴포넌트를 리렌더링 할지 말지 결정하는 함수\n  - render: 새로운 값을 사용하여 View를 리렌더링\n  - getSnapshotBeforeUpdate: 변경된 요소에 대해 DOM 객체에 반영하기 직전에 호출되는 함수\n  - ComponentDidUpdate: 컴포넌트 업데이트 작업이 끝난 리렌더링 후에 호출되는 함수\n\n  [UnMount] ==> 컴포넌트가 DOM에서 제거되는 것\n  - componentWillUnmount: 컴포넌트가 제거되기 직전에 호출되는 함수\n*/\n\n/*\nclass App extends React.Component {\n  state = {\n    count: 0\n  }\n\n  constructor(props) {\n    super(props);\n    console.log(\"constructor 호출 --- create class App\");\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    console.log(\"getDerivedStateFromProps 호출\");\n    return null\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"shouldComponentUpdate 호출 --- do you want to update?\")\n    return true\n  }\n\n  componentDidUpdate() {\n    console.log(\"componentDidUpdate 호출 --- update is done\")\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    console.log(\"getSnapshotBeforeUpdate 호출\")\n    return null\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount 호출 --- first rendering is done\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"componentWillUnmount 호출 --- component is dead\")\n  }\n\n  handleIncrease = () => {\n    this.setState(current => ({ \n      count: current.count + 1 \n    }));\n  }\n\n  handleDecrease = () => {\n    this.setState(current => ({ \n      count: current.count - 1 \n    }));\n  }\n\n  render () {\n    console.log(\"render 호출 --- rendering now\");\n    return (\n      <div>\n        <h1>The number is {this.state.count}</h1>\n        <button onClick={this.handleIncrease}>Increase</button>\n        <button onClick={this.handleDecrease}>Decrease</button>\n      </div>\n    )\n  }\n}\n*/\n\n/*\n  [axios]\n  - fetch 위에 작은 layer\n  - 브라우저, Node.js를 위한 Promise API를 활용하는 HTTP 비동기 통신 라이브러리\n  - 백엔드랑 프론트엔드와 통신을 쉽게하기 위해 Ajax와 더불어 사용\n*/\nclass App extends React.Component {\n  state = {\n    isLoading: true,\n    isSearchMovie: false,\n    searchMovie: '',\n    movieList: []\n  }\n\n  // get 요청이 들어올 때까지 대기\n  // 네이버 영화 검색 OPEN API 사용해보기\n  getMovies = async () => {\n    try {\n      /*\n        const naver_movies_api = await axios.get(\"/api/v1/search/movie.json\", {\n          params: {\n            query: \"트랜스포머\",\n            display: 100\n          },\n          headers: {\n            'X-Naver-Client-Id': ID_KEY,\n            'X-Naver-Client-Secret': SECRET_KEY\n          }\n        })\n      */\n\n      // ES6 문법\n      const {\n        data: { items }\n      } = await axios.get(\"/api/v1/search/movie.json\", {\n        params: {\n          query: this.state.searchMovie,\n          display: 100\n        },\n        headers: {\n          'X-Naver-Client-Id': ID_KEY,\n          'X-Naver-Client-Secret': SECRET_KEY\n        }\n      })\n      \n      console.log(items);\n      if (Object.keys(items).length !== 0) {\n        await this.setState({ isSearchMovie: false })\n      } else {\n        await this.setState({ isSearchMovie: true })\n      }\n      this.setState({ movieList: items, isLoading: false });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // prevent <form> submit reloading\n  handleSubmitEvent = (e) => {\n    e.preventDefault();\n  }\n\n  handleKeyEvent = async (e) => {\n    // Enter 키를 누를 경우만 submit되도록\n    if (e.keyCode === 13) {\n      await this.setState({ searchMovie: e.target.value });\n      this.getMovies();\n    }\n  }\n  \n  // 컴포넌트를 생성하고 첫 렌더링이 끝났을 때 호출하는 함수\n  // CSS style을 꾸미기 위한 자바스크립트를 넣어줌\n  componentDidMount = () => {\n    const byline = document.getElementById('byline');\n    let bylineText = byline.innerHTML;\n    let bylineArr = bylineText.split('');\n    let span;\n    let letter;\n\n    byline.innerHTML = '';\n\n    for (let i = 0; i < bylineArr.length; i++){ \n      span = document.createElement(\"span\");\n      letter = document.createTextNode(bylineArr[i]);\n      \n      if(bylineArr[i] === ' ') {\n        byline.appendChild(letter);\n      } else {\n        span.appendChild(letter);\n        byline.appendChild(span);\n      }\n    }\n  }\n\n  render = () => {\n    // ES6 문법\n    const { isLoading, isSearchMovie, searchMovie, movieList } = this.state;\n    \n    // 문자열 처리\n    let filteredMovieList = movieList.filter(item => item.image.includes(\"http\"));\n    filteredMovieList.map(item => {\n      let re = RegExp(/<b>|<\\/b>|&nbsp;|&lt;|&amp;|&quot;|&#035;|&#039;|&gt;/g);\n      let filteredTitle = item.title.replace(re, \"\");\n      let filteredSubTitle = item.subtitle.replace(re, \"\");\n      let filteredDirector = item.director.replaceAll(\"|\", \", \").replace(/,\\s*$/, \"\");\n      let filteredActor = item.actor.replaceAll(\"|\", \", \").replace(/,\\s*$/, \"\");\n\n      item.title = filteredTitle;\n      item.subtitle = filteredSubTitle;\n      item.director = filteredDirector;\n      item.actor = filteredActor;\n\n      return item;\n    })\n\n    return (\n      // javascript에서 사용하는 class와 html에서 사용하는 class 이름이 같기 때문에, 구분을 위해서 className을 사용한다\n      <div className=\"container\">\n        <div className=\"container__title\">\n          <h2 className=\"byline\" id=\"byline\">Movie Search Theather</h2>\n        </div>\n        <div className=\"container__search\">\n          { searchMovie === '' ?\n            <form onSubmit={this.handleSubmitEvent}>\n                <div className=\"movie__search\">\n                  <input\n                    className=\"movie__input\"\n                    type=\"text\"\n                    onKeyUp={this.handleKeyEvent}\n                    placeholder=\"보고싶은 영화가 있으신가요?\"\n                  />\n                </div>\n            </form>\n            : isLoading ? (\n              <div className=\"loader\">\n                  <span className=\"loader__text\">Loading...</span>\n              </div>\n            ) \n            : isSearchMovie ? (\n              <div>\n                <h3>결과가 없습니다</h3>\n              </div>\n            ) : (\n              <div className=\"movieList\">\n                  { filteredMovieList.map((movie, index) => { // Movie 앱의 props \n                    return (\n                      <Movie\n                          key={index}\n                          poster={movie.image}\n                          year={movie.pubDate}\n                          title={movie.title}\n                          subtitle={movie.subtitle}\n                          director={movie.director}\n                          actor={movie.actor}\n                          rate={movie.userRating}                          \n                      />\n                    )\n                  })}\n              </div>\n            )\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// root 태그에 App virtual Dom을 렌더링함\n// <App /> <-- Component라고 불림, HTML을 반환하는 함수\n// HTML과 Javascript간의 이러한 구조를 jsx라고 불림\n// React는 component로 동작함\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","const ID_KEY = \"lE98qEb5FF_JTXkWXxgr\";\r\nconst SECRET_KEY = \"ItdOHkS_tf\";\r\n\r\nmodule.exports = {\r\n    ID_KEY,\r\n    SECRET_KEY\r\n};"],"sourceRoot":""}